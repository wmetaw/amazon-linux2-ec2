FROM amazonlinux:2017.12.0.20180222

MAINTAINER Ryo Takashima<lio114514@gmail.com>

RUN yum install -y \
  GeoIP.x86_64 \
  PyYAML.x86_64 \
  acl.x86_64 \
  amazon-linux-extras.noarch \
  amazon-ssm-agent.x86_64 \
  at.x86_64 \
  attr.x86_64 \
  audit.x86_64 \
  audit-libs.x86_64 \
  audit-libs-python.x86_64 \
  authconfig.x86_64 \
  aws-cfn-bootstrap.noarch \
  awscli.noarch \
  basesystem.noarch \
  bash.x86_64 \
  bash-completion.noarch \
  bc.x86_64 \
  bind-libs.x86_64 \
  bind-libs-lite.x86_64 \
  bind-license.noarch \
  bind-utils.x86_64 \
  binutils.x86_64 \
  blktrace.x86_64 \
  boost-date-time.x86_64 \
  boost-system.x86_64 \
  boost-thread.x86_64 \
  bridge-utils.x86_64 \
  bzip2.x86_64 \
  bzip2-libs.x86_64 \
  ca-certificates.noarch \
  checkpolicy.x86_64 \
  chkconfig.x86_64 \
  chrony.x86_64 \
  cloud-init.x86_64 \
  cloud-utils-growpart.noarch \
  coreutils.x86_64 \
  cpio.x86_64 \
  cracklib.x86_64 \
  cracklib-dicts.x86_64 \
  cronie.x86_64 \
  cronie-anacron.x86_64 \
  crontabs.noarch \
  cryptsetup.x86_64 \
  cryptsetup-libs.x86_64 \
  curl.x86_64 \
  cyrus-sasl-lib.x86_64 \
  cyrus-sasl-plain.x86_64 \
  dbus.x86_64 \
  dbus-libs.x86_64 \
  device-mapper.x86_64 \
  device-mapper-event.x86_64 \
  device-mapper-event-libs.x86_64 \
  device-mapper-libs.x86_64 \
  device-mapper-persistent-data.x86_64 \
  dhclient.x86_64 \
  dhcp-common.x86_64 \
  dhcp-libs.x86_64 \
  diffutils.x86_64 \
  dmidecode.x86_64 \
  dmraid.x86_64 \
  dmraid-events.x86_64 \
  dosfstools.x86_64 \
  dracut.x86_64 \
  dracut-config-generic.x86_64 \
  dyninst.x86_64 \
  e2fsprogs.x86_64 \
  e2fsprogs-libs.x86_64 \
  ec2-net-utils.noarch \
  ec2-utils.noarch \
  ed.x86_64 \
  elfutils-default-yama-scope.noarch \
  elfutils-libelf.x86_64 \
  elfutils-libs.x86_64 \
  ethtool.x86_64 \
  expat.x86_64 \
  file.x86_64 \
  file-libs.x86_64 \
  filesystem.x86_64 \
  findutils.x86_64 \
  fipscheck.x86_64 \
  fipscheck-lib.x86_64 \
  freetype.x86_64 \
  gawk.x86_64 \
  gdbm.x86_64 \
  gdisk.x86_64 \
  generic-logos.noarch \
  gettext.x86_64 \
  gettext-libs.x86_64 \
  glib2.x86_64 \
  glibc.x86_64 \
  glibc-all-langpacks.x86_64 \
  glibc-common.x86_64 \
  glibc-locale-source.x86_64 \
  gmp.x86_64 \
  gnupg2.x86_64 \
  gpgme.x86_64 \
  gpm-libs.x86_64 \
  grep.x86_64 \
  groff-base.x86_64 \
  grub2.x86_64 \
  grub2-tools.x86_64 \
  grubby.x86_64 \
  gssproxy.x86_64 \
  gzip.x86_64 \
  hardlink.x86_64 \
  hostname.x86_64 \
  hunspell.x86_64 \
  hunspell-en.noarch \
  hunspell-en-GB.noarch \
  hunspell-en-US.noarch \
  hwdata.x86_64 \
  info.x86_64 \
  initscripts.x86_64 \
  iproute.x86_64 \
  iptables.x86_64 \
  iputils.x86_64 \
  jansson.x86_64 \
  jbigkit-libs.x86_64 \
  kbd.x86_64 \
  kbd-legacy.noarch \
  kbd-misc.noarch \
  kernel.x86_64 \
  kernel-tools.x86_64 \
  keyutils.x86_64 \
  keyutils-libs.x86_64 \
  kmod.x86_64 \
  kmod-libs.x86_64 \
  kpartx.x86_64 \
  kpatch.noarch \
  krb5-libs.x86_64 \
  langtable.noarch \
  langtable-data.noarch \
  langtable-python.noarch \
  less.x86_64 \
  libacl.x86_64 \
  libaio.x86_64 \
  libassuan.x86_64 \
  libattr.x86_64 \
  libbasicobjects.x86_64 \
  libblkid.x86_64 \
  libcap.x86_64 \
  libcap-ng.x86_64 \
  libcgroup.x86_64 \
  libcollection.x86_64 \
  libcom_err.x86_64 \
  libconfig.x86_64 \
  libcroco.x86_64 \
  libcrypt.x86_64 \
  libcurl.x86_64 \
  libdaemon.x86_64 \
  libdb.x86_64 \
  libdb-utils.x86_64 \
  libdrm.x86_64 \
  libdwarf.x86_64 \
  libedit.x86_64 \
  libestr.x86_64 \
  libevent.x86_64 \
  libfastjson.x86_64 \
  libffi.x86_64 \
  libgcc.x86_64 \
  libgcrypt.x86_64 \
  libgomp.x86_64 \
  libgpg-error.x86_64 \
  libicu.x86_64 \
  libidn.x86_64 \
  libidn2.x86_64 \
  libini_config.x86_64 \
  libjpeg-turbo.x86_64 \
  libmetalink.x86_64 \
  libmnl.x86_64 \
  libmount.x86_64 \
  libnetfilter_conntrack.x86_64 \
  libnfnetlink.x86_64 \
  libnfsidmap.x86_64 \
  libnghttp2.x86_64 \
  libnl3.x86_64 \
  libnl3-cli.x86_64 \
  libpath_utils.x86_64 \
  libpcap.x86_64 \
  libpciaccess.x86_64 \
  libpipeline.x86_64 \
  libpwquality.x86_64 \
  libref_array.x86_64 \
  libseccomp.x86_64 \
  libselinux.x86_64 \
  libselinux-python.x86_64 \
  libselinux-utils.x86_64 \
  libsemanage.x86_64 \
  libsemanage-python.x86_64 \
  libsepol.x86_64 \
  libss.x86_64 \
  libssh2.x86_64 \
  libsss_idmap.x86_64 \
  libsss_nss_idmap.x86_64 \
  libstdc++.x86_64 \
  libstoragemgmt.x86_64 \
  libstoragemgmt-python.noarch \
  libstoragemgmt-python-clibs.x86_64 \
  libsysfs.x86_64 \
  libtasn1.x86_64 \
  libteam.x86_64 \
  libtiff.x86_64 \
  libtirpc.x86_64 \
  libunistring.x86_64 \
  libuser.x86_64 \
  libutempter.x86_64 \
  libuuid.x86_64 \
  libverto.x86_64 \
  libverto-libevent.x86_64 \
  libwebp.x86_64 \
  libxml2.x86_64 \
  libxml2-python.x86_64 \
  libyaml.x86_64 \
  lm_sensors-libs.x86_64 \
  logrotate.x86_64 \
  lsof.x86_64 \
  lua.x86_64 \
  lvm2.x86_64 \
  lvm2-libs.x86_64 \
  make.x86_64 \
  man-db.x86_64 \
  man-pages.noarch \
  man-pages-overrides.x86_64 \
  mariadb-libs.x86_64 \
  mdadm.x86_64 \
  mlocate.x86_64 \
  mtr.x86_64 \
  nano.x86_64 \
  ncurses.x86_64 \
  ncurses-base.noarch \
  ncurses-compat-libs.x86_64 \
  ncurses-libs.x86_64 \
  net-tools.x86_64 \
  newt.x86_64 \
  newt-python.x86_64 \
  nfs-utils.x86_64 \
  nspr.x86_64 \
  nss.x86_64 \
  nss-pem.x86_64 \
  nss-softokn.x86_64 \
  nss-softokn-freebl.x86_64 \
  nss-sysinit.x86_64 \
  nss-tools.x86_64 \
  nss-util.x86_64 \
  ntsysv.x86_64 \
  openldap.x86_64 \
  openssh.x86_64 \
  openssh-clients.x86_64 \
  openssh-server.x86_64 \
  openssl.x86_64 \
  openssl-libs.x86_64 \
  os-prober.x86_64 \
  p11-kit.x86_64 \
  p11-kit-trust.x86_64 \
  pam.x86_64 \
  parted.x86_64 \
  passwd.x86_64 \
  pciutils.x86_64 \
  pciutils-libs.x86_64 \
  pcre.x86_64 \
  perl.x86_64 \
  perl-Carp.noarch \
  perl-Encode.x86_64 \
  perl-Exporter.noarch \
  perl-File-Path.noarch \
  perl-File-Temp.noarch \
  perl-Filter.x86_64 \
  perl-Getopt-Long.noarch \
  perl-HTTP-Tiny.noarch \
  perl-PathTools.x86_64 \
  perl-Pod-Escapes.noarch \
  perl-Pod-Perldoc.noarch \
  perl-Pod-Simple.noarch \
  perl-Pod-Usage.noarch \
  perl-Scalar-List-Utils.x86_64 \
  perl-Socket.x86_64 \
  perl-Storable.x86_64 \
  perl-Text-ParseWords.noarch \
  perl-Time-HiRes.x86_64 \
  perl-Time-Local.noarch \
  perl-constant.noarch \
  perl-libs.x86_64 \
  perl-macros.x86_64 \
  perl-parent.noarch \
  perl-podlators.noarch \
  perl-threads.x86_64 \
  perl-threads-shared.x86_64 \
  pinentry.x86_64 \
  pkgconfig.x86_64 \
  plymouth.x86_64 \
  plymouth-core-libs.x86_64 \
  plymouth-scripts.x86_64 \
  pm-utils.x86_64 \
  policycoreutils.x86_64 \
  policycoreutils-python.x86_64 \
  popt.x86_64 \
  postfix.x86_64 \
  procps-ng.x86_64 \
  psacct.x86_64 \
  psmisc.x86_64 \
  pth.x86_64 \
  pygpgme.x86_64 \
  pyliblzma.x86_64 \
  pyserial.noarch \
  pystache.noarch \
  python.x86_64 \
  python-IPy.noarch \
  python-babel.noarch \
  python-backports.x86_64 \
  python-backports-ssl_match_hostname.noarc \
  python-chardet.noarch \
  python-colorama.noarch \
  python-configobj.noarch \
  python-daemon.noarch \
  python-docutils.noarch \
  python-iniparse.noarch \
  python-jinja2.noarch \
  python-jsonpatch.noarch \
  python-jsonpointer.noarch \
  python-kitchen.noarch \
  python-libs.x86_64 \
  python-lockfile.noarch \
  python-markupsafe.x86_64 \
  python-pillow.x86_64 \
  python-prettytable.noarch \
  python-pycurl.x86_64 \
  python-requests.noarch \
  python-simplejson.x86_64 \
  python-six.noarch \
  python-urlgrabber.noarch \
  python-urllib3.noarch \
  python2-botocore.noarch \
  python2-dateutil.noarch \
  python2-futures.noarch \
  python2-jmespath.noarch \
  python2-pyasn1.noarch \
  python2-rsa.noarch \
  python2-s3transfer.noarch \
  python2-setuptools.noarch \
  pyxattr.x86_64 \
  qrencode-libs.x86_64 \
  quota.x86_64 \
  quota-nls.noarch \
  rdate.x86_64 \
  readline.x86_64 \
  rng-tools.x86_64 \
  rootfiles.noarch \
  rpcbind.x86_64 \
  rpm.x86_64 \
  rpm-build-libs.x86_64 \
  rpm-libs.x86_64 \
  rpm-python.x86_64 \
  rsync.x86_64 \
  rsyslog.x86_64 \
  scl-utils.x86_64 \
  screen.x86_64 \
  sed.x86_64 \
  selinux-policy.noarch \
  selinux-policy-targeted.noarch \
  setools-libs.x86_64 \
  setserial.x86_64 \
  setup.noarch \
  setuptool.x86_64 \
  sgpio.x86_64 \
  shadow-utils.x86_64 \
  shared-mime-info.x86_64 \
  slang.x86_64 \
  sqlite.x86_64 \
  sssd-client.x86_64 \
  strace.x86_64 \
  sudo.x86_64 \
  sysstat.x86_64 \
  system-release.x86_64 \
  systemd.x86_64 \
  systemd-libs.x86_64 \
  systemd-sysv.x86_64 \
  systemtap-runtime.x86_64 \
  sysvinit-tools.x86_64 \
  tar.x86_64 \
  tcp_wrappers.x86_64 \
  tcp_wrappers-libs.x86_64 \
  tcpdump.x86_64 \
  tcsh.x86_64 \
  teamd.x86_64 \
  time.x86_64 \
  traceroute.x86_64 \
  tzdata.noarch \
  unzip.x86_64 \
  update-motd.noarch \
  usermode.x86_64 \
  ustr.x86_64 \
  util-linux.x86_64 \
  vim-common.x86_64 \
  vim-enhanced.x86_64 \
  vim-filesystem.x86_64 \
  vim-minimal.x86_64 \
  virt-what.x86_64 \
  wget.x86_64 \
  which.x86_64 \
  words.noarch \
  xfsdump.x86_64 \
  xfsprogs.x86_64 \
  xz.x86_64 \
  xz-libs.x86_64 \
  yajl.x86_64 \
  yum.noarch \
  yum-langpacks.noarch \
  yum-metadata-parser.x86_64 \
  yum-plugin-priorities.noarch \
  yum-utils.noarch \
  zip.x86_64 \
  zlib.x86_64 \
  ;

RUN /usr/sbin/groupadd --gid 1000 ec2-user
RUN /usr/sbin/useradd --uid 1000 --gid 1000 --comment "EC2 Default User" -m ec2-user
